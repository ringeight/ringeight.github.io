import{r as l,o as w,c as x,a,w as I,v as A,b as c,d as t,i as S,u as k,e as V,F as G,f as p,g as _,h as C,j as D,s as M}from"./index-C1Z3sm94.js";async function E(u){const s=new TextEncoder().encode(u),r=await crypto.subtle.digest("SHA-256",s);return Array.from(new Uint8Array(r)).map(d=>d.toString(16).padStart(2,"0")).join("")}const N={class:"imei-container"},P={class:"reader-wrap"},T={class:"base-box tips4-wrap"},R={__name:"imei",setup(u){const v=_();let s=l("");const r=l(!1),i=l(!1);localStorage.getItem("key")&&(s=l(localStorage.getItem("key")));const d=()=>{sessionStorage.getItem("gdprAccepted")||(i.value=!0)},m=()=>{sessionStorage.setItem("gdprAccepted","true"),i.value=!1};w(()=>{d()});const g=async o=>{v.push({path:"/map",query:{imei:o}})},b=async()=>{if(s.value=s.value.replace(/\s+/g,""),s.value){localStorage.setItem("key",s.value);const o=await E(s.value);await g(o)}else M("plase input imei")};return(o,e)=>{const f=p("van-button"),y=p("van-field"),h=p("van-dialog");return C(),x(G,null,[a("div",N,[I(a("div",P,[...e[2]||(e[2]=[a("div",{id:"reader",class:"reader"},null,-1)])],512),[[A,r.value]]),e[5]||(e[5]=a("div",{class:"base-box tips1"}," El V16 conectado será el único dispositivo legal de preseñalización de peligro a partir del 1 de enero de 2026. ",-1)),a("div",T,[e[4]||(e[4]=a("div",{class:"tips4"},"Introduzca aquí el número de IMEI del dispositivo para comprobar la capacidad de la batería y la conexión de NB-IoT Internet y GPS.",-1)),c(y,{modelValue:k(s),"onUpdate:modelValue":e[0]||(e[0]=n=>S(s)?s.value=n:s=n),modelModifiers:{trim:!0},class:"input",placeholder:"Por favor escriba el numero de IMEI"},{button:t(()=>[c(f,{type:"primary",onClick:b,class:"base-button submit",style:{height:"35px"}},{default:t(()=>[...e[3]||(e[3]=[D(" Enviar ",-1)])]),_:1})]),_:1},8,["modelValue"])]),e[6]||(e[6]=V('<div class="tips2-bg"><div class="base-box tips2"><div class="title">Atención</div><ul><li><i>1</i><div class="img-box"></div><span>Use en exterior al aire libre sin obstáculos superiores.</span></li><li><i>2</i><div class="img-box"></div><span>Asegúrese de que el dispositivo tiene suficiente batería.</span></li><li><i>3</i><div class="img-box"></div><span>Coloque el dispositivo en la parte superior del coche.</span></li><li><i>4</i><div class="img-box"></div><span>Mantenga el dispositivo en su posición boca arriba.</span></li><li><i>5</i><div class="img-box"></div><span>Mantenga el dispositivo encendido y con la luz de posicionamiento activado durante al menos 5 minutos.</span></li></ul></div></div>',1))]),c(h,{show:i.value,"onUpdate:show":e[1]||(e[1]=n=>i.value=n),class:"gdpr-dialog",theme:"round-button","show-confirm-button":!1,"close-on-click-overlay":!1},{title:t(()=>[...e[7]||(e[7]=[a("div",{class:"gdpr-title"},"Aviso de Privacidad",-1)])]),footer:t(()=>[a("div",{class:"gdpr-footer"},[a("button",{class:"gdpr-confirm-btn",onClick:m},"Confirmar")])]),default:t(()=>[e[8]||(e[8]=a("div",{class:"gdpr-body",lang:"es"},[a("p",null,"De acuerdo con el Reglamento General de Protección de Datos (RGPD) y el RD 1030/2022, este servicio de consulta se utiliza únicamente para verificar los datos de ubicación de emergencia notificados a la DGT 3.0."),a("p",null,"Para proteger la privacidad del usuario, los datos de ubicación se conservan solo 5 minutos después de la activación del dispositivo. No almacenamos patrones históricos de movimiento.")],-1))]),_:1},8,["show"])],64)}}};export{R as default};
